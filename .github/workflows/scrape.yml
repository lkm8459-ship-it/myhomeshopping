name: "Run Scraper"
on: {workflow_dispatch: {}, schedule: [{cron: "0 */2 * * *"}]}
jobs:
  build:
      runs-on: "ubuntu-latest"
          steps:
                - {uses: "actions/checkout@v3"}
                      - {uses: "actions/setup-python@v4", with: {python-version: "3.9"}}
                            - {name: "Deps", run: "pip install requests beautifulsoup4"}
                                  - {name: "Scrape", run: "python 04_Myhomeshopping/scraper.py", env: {FIREBASE_URL: "https://myhomeshopping-a9724-default-rtdb.firebaseio.com/"}}
                                        - {name: "Push", run: "git config --global user.email 'action@github.com'; git config --global user.name 'GitHub Action'; git add .; git diff --quiet || git commit -m 'Update'; git push"}
                                        
